!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).pvs=e()}(this,(function(){"use strict";const t=new Map;function e(e,n,o){return t.set(`${e}:${n}`,o)}function n(e,n){return t.get(`${e}:${n}`)}function o(t){return t.replace(/#.*/,"")}async function r(t,r=!0,i={}){const a=o(t);if(r){const t=n("ajax",a);if(t)return t}const s=await fetch(a,i);if(!s.ok)throw s.status;const c=await s.text();return e("ajax",a,c),c}function i(t){return(new DOMParser).parseFromString(t,"text/html")}const{on:a,trigger:s}=window.ivent,c=[];function l(){c.length&&(document.querySelectorAll(".navigation-hide").forEach((t=>{t.classList.remove("navigation-hide")})),document.querySelectorAll(".social-links:not(.social-links-author)").forEach((t=>{c.forEach((e=>{if(t.querySelector(`a[href="${e.url}"]`))return;const n=document.createElement("li");n.innerHTML=`<a class="social-link" href="${e.url}" target="_blank" rel="noopener noreferrer">${e.icon}<span>${e.title}</span></a>`,t.appendChild(n)}))})),s(document,"pvs.social-links.rendered"))}a(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",l);const{on:d,trigger:u}=window.ivent;function p(){return document.documentElement.getAttribute("data-color-scheme")}function f(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function m(){const t=p();return"system"===t?f():t}function g(t){document.documentElement.setAttribute("data-color-scheme",t),localStorage.setItem("color-scheme",t)}let h=!1;function v(){const t=document.querySelector('script[src*="comments-ui"]');if(!t)return;const e=m();t.setAttribute("data-color-scheme",e),h||(h="#000000"===t.getAttribute("data-accent-color")),h&&t.setAttribute("data-accent-color","dark"===e?"#525252":"#000000")}const{on:b}=window.ivent,w=[];function y(){w.length&&w.forEach((({slug:t,icon:e})=>{document.querySelectorAll(".nav-link > svg").forEach((n=>{const o=n.parentNode,r=o.querySelector("span");(o.classList.contains(`nav-link-${t}`)||t===r?.textContent.trim())&&(n.outerHTML=e)}))}))}function E(t,e){w.some((e=>e.slug===t))||(w.push({slug:t,icon:e}),y())}b(document,"ready",y);const{on:S}=window.ivent,T={selector:'a:not([target="_blank"])',target:"_blank",rel:"noopener noreferrer"},A=[];function k(){A.forEach((({selector:t,target:e,rel:n})=>{const o=location.host.replace("www.","");document.querySelectorAll(t).forEach((t=>{if(!t.host.includes(o)&&(e&&t.setAttribute("target",e),n)){const e=t.getAttribute("rel");if(e){const o=e.split(" "),r=n.split(" "),i=Array.from(new Set([...o,...r])).join(" ");t.setAttribute("rel",i)}else t.setAttribute("rel",n)}}))}))}S(document,"ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",k);const L={clipboardButton:!0,clipboardButtonCopiedBadge:"Copied",clipboardButtonErrorBadge:null,lineNumbers:!1,languageBadge:!1},x="\nimport { codeToHtml } from 'https://esm.sh/shiki@1.22';\n\nconst { on } = window.ivent;\nconst options = OPTIONS;\n\nfunction detectLanguage(codeText) {\n\tconst languages = {\n\t\t// Special formats first (to avoid false positives)\n\t\tjson: /^\\s*[{\\[](?:\\\"|\\'|$).*[}\\]]\\s*$/,\n\t\tyaml: /^(?:---|\\s*[\\w-]+:\\s*(?:(?:>|\\||-|\\[|\\{)|(?:\\S+)))/,\n\n\t\t// Markup languages\n\t\tmarkdown: /^(?:#{1,6}\\s|[*-]\\s|\\d+\\.\\s|>\\s|\\[.*\\]\\(.*\\)|`{3}|_{2}|\\*{2})/m,\n\t\thtml: /^\\s*(?:<(?:!DOCTYPE\\s+html|html|head|body|div|span|a|p|script|style|link|meta)[\\s>])/i,\n\n\t\t// Strongly typed languages\n\t\ttypescript:\n\t\t\t/(?:^|\\b)(?:interface\\s+\\w+|type\\s+\\w+|enum\\s+\\w+|readonly|private|protected|public|abstract|implements|namespace|declare)\\b/,\n\t\t'c++':\n\t\t\t/(?:^|\\b)(?:#include\\s*<\\w+>|using\\s+namespace\\s+std|template\\s*<|class\\s+\\w+|public:|private:|protected:)\\b/,\n\t\tjava: /(?:^|\\b)(?:public\\s+class|private\\s+class|protected\\s+class|package\\s+[\\w.]+;|import\\s+[\\w.]+;)\\b/,\n\t\t'c#': /(?:^|\\b)(?:namespace\\s+[\\w.]+|using\\s+[\\w.]+;|public\\s+class|private\\s+class|protected\\s+class)\\b/,\n\n\t\t// Scripting languages\n\t\tpython:\n\t\t\t/(?:^|\\b)(?:def\\s+\\w+\\s*\\(|class\\s+\\w+(?:\\s*\\([\\w,\\s]*\\))?:|import\\s+[\\w,\\s]+|from\\s+[\\w.]+\\s+import)\\b/,\n\t\tjavascript:\n\t\t\t/(?:^|\\b)(?:function\\s+\\w+\\s*\\(|const\\s+\\w+\\s*=|let\\s+\\w+\\s*=|var\\s+\\w+\\s*=|import\\s+.*from\\s+['\"]|export\\s+(?:default\\s+)?(?:function|class|const|let|var))\\b/,\n\t\tphp: /(?:^|\\b)(?:<\\?php|namespace\\s+[\\w\\\\]+;|use\\s+[\\w\\\\]+;|class\\s+\\w+(?:\\s+extends|\\s+implements)?)\\b/,\n\t\truby: /(?:^|\\b)(?:require\\s+['\"][\\w/]+['\"]|class\\s+\\w+\\s*(?:<\\s*\\w+)?|def\\s+\\w+|module\\s+\\w+)\\b/,\n\n\t\t// Modern languages\n\t\trust: /(?:^|\\b)(?:fn\\s+\\w+|impl\\s+\\w+|pub\\s+(?:fn|struct|enum|trait)|use\\s+[\\w:]+;|let\\s+mut\\s+\\w+)\\b/,\n\t\tgo: /(?:^|\\b)(?:package\\s+\\w+|func\\s+\\w+|type\\s+\\w+\\s+struct|import\\s+(?:\\([\\s\\S]*?\\)|\\S+))\\b/,\n\t\tswift:\n\t\t\t/(?:^|\\b)(?:import\\s+\\w+|class\\s+\\w+|struct\\s+\\w+|protocol\\s+\\w+|extension\\s+\\w+)\\b/,\n\t\tkotlin:\n\t\t\t/(?:^|\\b)(?:fun\\s+\\w+|class\\s+\\w+|data\\s+class|object\\s+\\w+|interface\\s+\\w+)\\b/,\n\t\tdart: /(?:^|\\b)(?:void\\s+main\\(\\)|class\\s+\\w+|abstract\\s+class|extends\\s+\\w+|implements\\s+\\w+)\\b/,\n\n\t\t// Query languages\n\t\tsql: /(?:^|\\b)(?:SELECT\\s+(?:\\*|\\w+)|INSERT\\s+INTO|UPDATE\\s+\\w+\\s+SET|DELETE\\s+FROM|CREATE\\s+TABLE|DROP\\s+TABLE|ALTER\\s+TABLE)\\b/i,\n\n\t\t// Scientific/Statistical languages\n\t\tr: /(?:^|\\b)(?:library\\(\\w+\\)|function\\s*\\(|data\\.frame\\(|<-|%>%)\\b/,\n\t\tmatlab:\n\t\t\t/(?:^|\\b)(?:function\\s+\\w+\\s*=|classdef\\s+\\w+|properties|methods|end)\\b/,\n\n\t\t// Shell scripting\n\t\tbash: /^(?:#!\\s*\\/bin\\/(?:ba)?sh|(?:\\b(?:if|then|else|elif|fi|for|do|done|while|case|esac|function)\\b|\\$\\{|\\$\\(|export\\s+\\w+))/,\n\n\t\t// Styling\n\t\tcss: /(?:^|\\b)(?:@media|@import|@keyframes|\\{[\\s\\S]*?\\}|[a-z-]+:\\s*[^;]+;)/,\n\t};\n\n\tfor (const [language, regex] of Object.entries(languages)) {\n\t\tif (regex.test(codeText)) {\n\t\t\treturn language;\n\t\t}\n\t}\n\n\treturn 'text';\n}\n\nasync function init() {\n\tdocument\n\t\t.querySelectorAll('pre:not(.shiki) > code')\n\t\t.forEach(async (code) => {\n\t\t\tlet preEl = code.parentNode;\n\t\t\tlet wrapper = preEl.parentNode;\n\n\t\t\t// Add wrapper.\n\t\t\tif (!wrapper.classList.contains('kg-code-card')) {\n\t\t\t\twrapper = document.createElement('div');\n\t\t\t\twrapper.classList.add('kg-card', 'kg-code-card');\n\t\t\t\tpreEl.after(wrapper);\n\t\t\t\twrapper.appendChild(preEl);\n\t\t\t}\n\n\t\t\t// Has line numbers.\n\t\t\tif (options.lineNumbers) {\n\t\t\t\twrapper.classList.add('has-line-numbers');\n\t\t\t}\n\n\t\t\tpreEl.classList.add('shiki');\n\n\t\t\tconst lang = code?.classList[0]?.replace('language-', '') || detectLanguage(code?.innerText || '');\n\n\t\t\tconst codeText = code?.innerText;\n\t\t\tconst codeHTML = await codeToHtml(codeText || '', {\n\t\t\t\tlang,\n\t\t\t\tthemes: {\n\t\t\t\t\tlight: 'github-light',\n\t\t\t\t\tdark: 'github-dark',\n\t\t\t\t},\n\t\t\t});\n\n\t\t\t// Add copy button.\n\t\t\tif (options.clipboardButton && codeText) {\n\t\t\t\tconst button = document.createElement('button');\n\t\t\t\tbutton.classList.add('copy');\n\t\t\t\tbutton.setAttribute('data-copy-code', '');\n\t\t\t\tbutton.setAttribute('role', 'button');\n\t\t\t\tbutton.setAttribute('aria-label', 'Copy code');\n\n\t\t\t\t// Badge success.\n\t\t\t\tif (options.clipboardButtonCopiedBadge) {\n\t\t\t\t\tconst badge = document.createElement('span');\n\t\t\t\t\tbadge.classList.add('success');\n\t\t\t\t\tbadge.textContent = options.clipboardButtonCopiedBadge;\n\t\t\t\t\tbutton.append(badge);\n\t\t\t\t}\n\n\t\t\t\t// Badge error.\n\t\t\t\tif (options.clipboardButtonErrorBadge) {\n\t\t\t\t\tconst badge = document.createElement('span');\n\t\t\t\t\tbadge.classList.add('error');\n\t\t\t\t\tbadge.textContent = options.clipboardButtonErrorBadge;\n\t\t\t\t\tbutton.append(badge);\n\t\t\t\t}\n\n\t\t\t\twrapper.appendChild(button);\n\n\t\t\t\tlet timeoutSuccess = null;\n\t\t\t\tlet timeoutError = null;\n\n\t\t\t\ton(button, 'click', async (e) => {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\ttimeoutSuccess && clearTimeout(timeoutSuccess);\n\t\t\t\t\ttimeoutError && clearTimeout(timeoutError);\n\n\t\t\t\t\tbutton.classList.remove('error');\n\t\t\t\t\tbutton.classList.remove('success');\n\n\t\t\t\t\t// Success.\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait navigator.clipboard.writeText(codeText);\n\n\t\t\t\t\t\tbutton.classList.add('success');\n\t\t\t\t\t\ttimeoutSuccess = setTimeout(() => {\n\t\t\t\t\t\t\tbutton.classList.remove('success');\n\t\t\t\t\t\t}, 2000);\n\n\t\t\t\t\t// Error.\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.error(err);\n\n\t\t\t\t\t\tbutton.classList.add('error');\n\t\t\t\t\t\ttimeoutError = setTimeout(() => {\n\t\t\t\t\t\t\tbutton.classList.remove('error');\n\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Add language badge.\n\t\t\tif (options.languageBadge && lang) {\n\t\t\t\tconst badge = document.createElement('span');\n\t\t\t\tbadge.classList.add('language-badge');\n\t\t\t\tbadge.textContent = lang;\n\t\t\t\twrapper.append(badge);\n\t\t\t}\n\n\t\t\t// Add code HTML.\n\t\t\tif (codeHTML) {\n\t\t\t\tpreEl.outerHTML = codeHTML;\n\t\t\t}\n\t\t});\n}\n\ninit();\n\n// Update when render page.\non(document, 'ready pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered', () => {\n\tinit();\n});\n";const{on:N}=window.ivent;function C(t,e,n){var o,r=n||{},i=r.noTrailing,a=void 0!==i&&i,s=r.noLeading,c=void 0!==s&&s,l=r.debounceMode,d=void 0===l?void 0:l,u=!1,p=0;function f(){o&&clearTimeout(o)}function m(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=this,l=Date.now()-p;function m(){p=Date.now(),e.apply(s,r)}function g(){o=void 0}u||(c||!d||o||m(),f(),void 0===d&&l>t?c?(p=Date.now(),a||(o=setTimeout(d?g:m,t))):m():!0!==a&&(o=setTimeout(d?g:m,void 0===d?t-l:t)))}return m.cancel=function(t){var e=(t||{}).upcomingOnly,n=void 0!==e&&e;f(),u=!n},m}function q(t,e,n){var o=(n||{}).atBegin;return C(t,e,{debounceMode:!1!==(void 0!==o&&o)})}const{on:O}=window.ivent,D=new Set,P=new Set,M=t=>{t.forEach((t=>t()))},F=C(200,(()=>M(D))),R=q(200,(()=>M(P))),I=()=>{F(),R()};function H(t){D.add(t)}O(window,"scroll",I,{passive:!0}),O(window,"orientationchange",I);const{on:B}=window.ivent,$=new Set,j=q(100,(()=>{$.forEach((t=>t()))}));B(window,"load",j),B(window,"resize",j),B(window,"orientationchange",j),j();const G={imageSelector:".kg-gallery-image, .kg-image-card",zIndex:1e4};
/*!
	* tabbable 6.2.0
	* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
	*/
var z=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],U=z.join(","),K="undefined"==typeof Element,_=K?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,W=!K&&Element.prototype.getRootNode?function(t){var e;return null==t||null===(e=t.getRootNode)||void 0===e?void 0:e.call(t)}:function(t){return null==t?void 0:t.ownerDocument},Y=function t(e,n){var o;void 0===n&&(n=!0);var r=null==e||null===(o=e.getAttribute)||void 0===o?void 0:o.call(e,"inert");return""===r||"true"===r||n&&e&&t(e.parentNode)},V=function(t,e,n){if(Y(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(U));return e&&_.call(t,U)&&o.unshift(t),o=o.filter(n)},X=function t(e,n,o){for(var r=[],i=Array.from(e);i.length;){var a=i.shift();if(!Y(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),c=t(s.length?s:a.children,!0,o);o.flatten?r.push.apply(r,c):r.push({scopeParent:a,candidates:c})}else{_.call(a,U)&&o.filter(a)&&(n||!e.includes(a))&&r.push(a);var l=a.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(a),d=!Y(l,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(a));if(l&&d){var u=t(!0===l?a.children:l.children,!0,o);o.flatten?r.push.apply(r,u):r.push({scopeParent:a,candidates:u})}else i.unshift.apply(i,a.children)}}return r},J=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Q=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||function(t){var e,n=null==t||null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"contenteditable");return""===n||"true"===n}(t))&&!J(t)?0:t.tabIndex},Z=function(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex},tt=function(t){return"INPUT"===t.tagName},et=function(t){return function(t){return tt(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e,n=t.form||W(t),o=function(t){return n.querySelectorAll('input[type="radio"][name="'+t+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)e=o(window.CSS.escape(t.name));else try{e=o(t.name)}catch(t){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",t.message),!1}var r=function(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}(e,t.form);return!r||r===t}(t)},nt=function(t){var e=t.getBoundingClientRect(),n=e.width,o=e.height;return 0===n&&0===o},ot=function(t,e){var n=e.displayCheck,o=e.getShadowRoot;if("hidden"===getComputedStyle(t).visibility)return!0;var r=_.call(t,"details>summary:first-of-type")?t.parentElement:t;if(_.call(r,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return nt(t)}else{if("function"==typeof o){for(var i=t;t;){var a=t.parentElement,s=W(t);if(a&&!a.shadowRoot&&!0===o(a))return nt(t);t=t.assignedSlot?t.assignedSlot:a||s===t.ownerDocument?a:s.host}t=i}if(function(t){var e,n,o,r,i=t&&W(t),a=null===(e=i)||void 0===e?void 0:e.host,s=!1;if(i&&i!==t)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(o=n.ownerDocument)&&void 0!==o&&o.contains(a)||null!=t&&null!==(r=t.ownerDocument)&&void 0!==r&&r.contains(t));!s&&a;){var c,l,d;s=!(null===(l=a=null===(c=i=W(a))||void 0===c?void 0:c.host)||void 0===l||null===(d=l.ownerDocument)||void 0===d||!d.contains(a))}return s}(t))return!t.getClientRects().length;if("legacy-full"!==n)return!0}return!1},rt=function(t,e){return!(e.disabled||Y(e)||function(t){return tt(t)&&"hidden"===t.type}(e)||ot(e,t)||function(t){return"DETAILS"===t.tagName&&Array.prototype.slice.apply(t.children).some((function(t){return"SUMMARY"===t.tagName}))}(e)||function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var e=t.parentElement;e;){if("FIELDSET"===e.tagName&&e.disabled){for(var n=0;n<e.children.length;n++){var o=e.children.item(n);if("LEGEND"===o.tagName)return!!_.call(e,"fieldset[disabled] *")||!o.contains(t)}return!0}e=e.parentElement}return!1}(e))},it=function(t,e){return!(et(e)||Q(e)<0||!rt(t,e))},at=function(t){var e=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(e)||e>=0)},st=function t(e){var n=[],o=[];return e.forEach((function(e,r){var i=!!e.scopeParent,a=i?e.scopeParent:e,s=function(t,e){var n=Q(t);return n<0&&e&&!J(t)?0:n}(a,i),c=i?t(e.candidates):a;0===s?i?n.push.apply(n,c):n.push(a):o.push({documentOrder:r,tabIndex:s,item:e,isScope:i,content:c})})),o.sort(Z).reduce((function(t,e){return e.isScope?t.push.apply(t,e.content):t.push(e.content),t}),[]).concat(n)},ct=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==_.call(t,U)&&it(e,t)},lt=z.concat("iframe").join(","),dt=function(t,e){if(e=e||{},!t)throw new Error("No node provided");return!1!==_.call(t,lt)&&rt(e,t)};
/*!
	* focus-trap 7.6.0
	* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
	*/
function ut(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){ut(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var mt=function(t,e){if(t.length>0){var n=t[t.length-1];n!==e&&n.pause()}var o=t.indexOf(e);-1===o||t.splice(o,1),t.push(e)},gt=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()},ht=function(t){return"Tab"===(null==t?void 0:t.key)||9===(null==t?void 0:t.keyCode)},vt=function(t){return ht(t)&&!t.shiftKey},bt=function(t){return ht(t)&&t.shiftKey},wt=function(t){return setTimeout(t,0)},yt=function(t,e){var n=-1;return t.every((function(t,o){return!e(t)||(n=o,!1)})),n},Et=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return"function"==typeof t?t.apply(void 0,n):t},St=function(t){return t.target.shadowRoot&&"function"==typeof t.composedPath?t.composedPath()[0]:t.target},Tt=[],At=function(t,e){var n,o=(null==e?void 0:e.document)||document,r=(null==e?void 0:e.trapStack)||Tt,i=ft({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:vt,isKeyBackward:bt},e),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(t,e,n){return t&&void 0!==t[e]?t[e]:i[n||e]},c=function(t,e){var n="function"==typeof(null==e?void 0:e.composedPath)?e.composedPath():void 0;return a.containerGroups.findIndex((function(e){var o=e.container,r=e.tabbableNodes;return o.contains(t)||(null==n?void 0:n.includes(o))||r.find((function(e){return e===t}))}))},l=function(t){var e=i[t];if("function"==typeof e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];e=e.apply(void 0,r)}if(!0===e&&(e=void 0),!e){if(void 0===e||!1===e)return e;throw new Error("`".concat(t,"` was specified but was not a node, or did not return a node"))}var s=e;if("string"==typeof e&&!(s=o.querySelector(e)))throw new Error("`".concat(t,"` as selector refers to no known node"));return s},d=function(){var t=l("initialFocus");if(!1===t)return!1;if(void 0===t||!dt(t,i.tabbableOptions))if(c(o.activeElement)>=0)t=o.activeElement;else{var e=a.tabbableGroups[0];t=e&&e.firstTabbableNode||l("fallbackFocus")}if(!t)throw new Error("Your focus-trap needs to have at least one focusable element");return t},u=function(){if(a.containerGroups=a.containers.map((function(t){var e=function(t,e){var n;return n=(e=e||{}).getShadowRoot?X([t],e.includeContainer,{filter:it.bind(null,e),flatten:!1,getShadowRoot:e.getShadowRoot,shadowRootFilter:at}):V(t,e.includeContainer,it.bind(null,e)),st(n)}(t,i.tabbableOptions),n=function(t,e){return(e=e||{}).getShadowRoot?X([t],e.includeContainer,{filter:rt.bind(null,e),flatten:!0,getShadowRoot:e.getShadowRoot}):V(t,e.includeContainer,rt.bind(null,e))}(t,i.tabbableOptions),o=e.length>0?e[0]:void 0,r=e.length>0?e[e.length-1]:void 0,a=n.find((function(t){return ct(t)})),s=n.slice().reverse().find((function(t){return ct(t)})),c=!!e.find((function(t){return Q(t)>0}));return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:c,firstTabbableNode:o,lastTabbableNode:r,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.indexOf(t);return r<0?o?n.slice(n.indexOf(t)+1).find((function(t){return ct(t)})):n.slice(0,n.indexOf(t)).reverse().find((function(t){return ct(t)})):e[r+(o?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(t){return t.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(t){return t.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function(t){var e=t.activeElement;if(e)return e.shadowRoot&&null!==e.shadowRoot.activeElement?p(e.shadowRoot):e},f=function(t){!1!==t&&t!==p(document)&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),a.mostRecentlyFocusedNode=t,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(t)&&t.select()):f(d()))},m=function(t){var e=l("setReturnFocus",t);return e||!1!==e&&t},g=function(t){var e=t.target,n=t.event,o=t.isBackward,r=void 0!==o&&o;e=e||St(n),u();var s=null;if(a.tabbableGroups.length>0){var d=c(e,n),p=d>=0?a.containerGroups[d]:void 0;if(d<0)s=r?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(r){var f=yt(a.tabbableGroups,(function(t){var n=t.firstTabbableNode;return e===n}));if(f<0&&(p.container===e||dt(e,i.tabbableOptions)&&!ct(e,i.tabbableOptions)&&!p.nextTabbableNode(e,!1))&&(f=d),f>=0){var m=0===f?a.tabbableGroups.length-1:f-1,g=a.tabbableGroups[m];s=Q(e)>=0?g.lastTabbableNode:g.lastDomTabbableNode}else ht(n)||(s=p.nextTabbableNode(e,!1))}else{var h=yt(a.tabbableGroups,(function(t){var n=t.lastTabbableNode;return e===n}));if(h<0&&(p.container===e||dt(e,i.tabbableOptions)&&!ct(e,i.tabbableOptions)&&!p.nextTabbableNode(e))&&(h=d),h>=0){var v=h===a.tabbableGroups.length-1?0:h+1,b=a.tabbableGroups[v];s=Q(e)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else ht(n)||(s=p.nextTabbableNode(e))}}else s=l("fallbackFocus");return s},h=function(t){var e=St(t);c(e,t)>=0||(Et(i.clickOutsideDeactivates,t)?n.deactivate({returnFocus:i.returnFocusOnDeactivate}):Et(i.allowOutsideClick,t)||t.preventDefault())},v=function(t){var e=St(t),n=c(e,t)>=0;if(n||e instanceof Document)n&&(a.mostRecentlyFocusedNode=e);else{var o;t.stopImmediatePropagation();var r=!0;if(a.mostRecentlyFocusedNode)if(Q(a.mostRecentlyFocusedNode)>0){var s=c(a.mostRecentlyFocusedNode),l=a.containerGroups[s].tabbableNodes;if(l.length>0){var u=l.findIndex((function(t){return t===a.mostRecentlyFocusedNode}));u>=0&&(i.isKeyForward(a.recentNavEvent)?u+1<l.length&&(o=l[u+1],r=!1):u-1>=0&&(o=l[u-1],r=!1))}}else a.containerGroups.some((function(t){return t.tabbableNodes.some((function(t){return Q(t)>0}))}))||(r=!1);else r=!1;r&&(o=g({target:a.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(a.recentNavEvent)})),f(o||(a.mostRecentlyFocusedNode||d()))}a.recentNavEvent=void 0},b=function(t){(i.isKeyForward(t)||i.isKeyBackward(t))&&function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=t;var n=g({event:t,isBackward:e});n&&(ht(t)&&t.preventDefault(),f(n))}(t,i.isKeyBackward(t))},w=function(t){var e;"Escape"!==(null==(e=t)?void 0:e.key)&&"Esc"!==(null==e?void 0:e.key)&&27!==(null==e?void 0:e.keyCode)||!1===Et(i.escapeDeactivates,t)||(t.preventDefault(),n.deactivate())},y=function(t){var e=St(t);c(e,t)>=0||Et(i.clickOutsideDeactivates,t)||Et(i.allowOutsideClick,t)||(t.preventDefault(),t.stopImmediatePropagation())},E=function(){if(a.active)return mt(r,n),a.delayInitialFocusTimer=i.delayInitialFocus?wt((function(){f(d())})):f(d()),o.addEventListener("focusin",v,!0),o.addEventListener("mousedown",h,{capture:!0,passive:!1}),o.addEventListener("touchstart",h,{capture:!0,passive:!1}),o.addEventListener("click",y,{capture:!0,passive:!1}),o.addEventListener("keydown",b,{capture:!0,passive:!1}),o.addEventListener("keydown",w),n},S=function(){if(a.active)return o.removeEventListener("focusin",v,!0),o.removeEventListener("mousedown",h,!0),o.removeEventListener("touchstart",h,!0),o.removeEventListener("click",y,!0),o.removeEventListener("keydown",b,!0),o.removeEventListener("keydown",w),n},T="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(t){t.some((function(t){return Array.from(t.removedNodes).some((function(t){return t===a.mostRecentlyFocusedNode}))}))&&f(d())})):void 0,A=function(){T&&(T.disconnect(),a.active&&!a.paused&&a.containers.map((function(t){T.observe(t,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(t){if(a.active)return this;var e=s(t,"onActivate"),n=s(t,"onPostActivate"),r=s(t,"checkCanFocusTrap");r||u(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=o.activeElement,null==e||e();var i=function(){r&&u(),E(),A(),null==n||n()};return r?(r(a.containers.concat()).then(i,i),this):(i(),this)},deactivate:function(t){if(!a.active)return this;var e=ft({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},t);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,S(),a.active=!1,a.paused=!1,A(),gt(r,n);var o=s(e,"onDeactivate"),c=s(e,"onPostDeactivate"),l=s(e,"checkCanReturnFocus"),d=s(e,"returnFocus","returnFocusOnDeactivate");null==o||o();var u=function(){wt((function(){d&&f(m(a.nodeFocusedBeforeActivation)),null==c||c()}))};return d&&l?(l(m(a.nodeFocusedBeforeActivation)).then(u,u),this):(u(),this)},pause:function(t){if(a.paused||!a.active)return this;var e=s(t,"onPause"),n=s(t,"onPostPause");return a.paused=!0,null==e||e(),S(),A(),null==n||n(),this},unpause:function(t){if(!a.paused||!a.active)return this;var e=s(t,"onUnpause"),n=s(t,"onPostUnpause");return a.paused=!1,null==e||e(),u(),E(),A(),null==n||n(),this},updateContainerElements:function(t){var e=[].concat(t).filter(Boolean);return a.containers=e.map((function(t){return"string"==typeof t?o.querySelector(t):t})),a.active&&u(),A(),this}}).updateContainerElements(t),n};const kt={showClass:"popup-show",hideClass:"popup-hide",bodyOverflow:!0,focusDuration:100};function Lt(t,e){let n=(new Date).getTime();const o=1e3/(e||60);return function e(){requestAnimationFrame(e);const r=(new Date).getTime(),i=r-n;i>o&&(n=r-i%o,t())}()}const{on:xt}=window.ivent,Nt={selector:".scroll-progress"};function Ct(){document.body.style.setProperty("--scrollbar-width",function(){const t=window.innerWidth-document.body.offsetWidth||parseFloat(window.getComputedStyle(document.body).paddingRight);return t?`${t}px`:""}())}function qt(t){const e=document.createElement("script");Array.from(t.attributes).forEach((t=>e.setAttribute(t.name,t.value))),t.innerHTML&&(e.innerHTML=t.innerHTML),t.replaceWith(e)}let Ot;function Dt(t){const e=t.querySelectorAll("script");if(e&&e.forEach((t=>{qt(t)})),t.querySelector("[data-ghost-search]")){document.querySelectorAll("#sodo-search-root").forEach((t=>t.remove()));const t=document.querySelector('script[src*="sodo-search"]');t&&qt(t)}if(t.querySelector(".kg-video-card, .kg-audio-card, .kg-toggle-card, .kg-gallery-image")){const t=document.querySelector('script[src*="cards"]');t&&qt(t)}if(t.querySelector('[data-lexical-signup-form], [data-members-form], [data-portal], [href*="#/portal"]')){const t=document.querySelector('script[src*="ghost/portal"]');t&&(document.querySelectorAll("#ghost-portal-root").forEach((t=>t.remove())),function(){const t=document.head.getElementsByTagName("style");for(const e of t)if(e.textContent.trim().startsWith(".gh-portal-account-header{display:flex;flex-direction:column;align-items:center;margin:0 0 32px")){e.remove();break}}(),qt(t))}if(t.querySelector("[data-ghost-comment-count]")){const t=document.querySelector('script[src*="comment-counts"]');t&&(Ot||(Ot=new MutationObserver((t=>{t.forEach((t=>{if("childList"===t.type&&t.addedNodes.length)for(let e=t.addedNodes.length-1;e>=0;e--){const n=t.addedNodes[e];if(n.nodeType===Node.ELEMENT_NODE&&"SPAN"===n.nodeName&&n.parentElement===document.body&&0===n.attributes.length&&/^\d+$/.test(n.textContent.trim())){n.remove();break}}}))})),Ot.observe(document.body,{childList:!0,subtree:!1})),qt(t))}}const{on:Pt,trigger:Mt}=window.ivent;function Ft(t){const e=t.getAttribute("href");if(!e)return t.classList.remove("loading"),void t.classList.add("complete");t.classList.add("loading");const n=t.getAttribute("data-pagination-append")||t.getAttribute("data-pagination-prepend"),o=t.getAttribute("data-pagination-from")||n,a=t.hasAttribute("data-pagination-prepend")?"prepend":"append",s=document.querySelectorAll(n),c=`[data-pagination-${a}]`;r(e).then((e=>{const r=i(e),l=r.querySelector(o),d=l.parentNode.querySelector(c)?.getAttribute("href");s.forEach((e=>{const i={href:d,page:r,toSelector:n,fromSelector:o,insertPosition:a,insertTo:e,insertFrom:l,insertCallback:!1};Mt(document,"pvs.pagination.render",{data:i,relatedTarget:t});const s=i.insertTo.parentNode.querySelector(c);s&&(s.classList.remove("loading"),i.href?s.setAttribute("href",i.href):(s.classList.add("complete"),s.removeAttribute("href"),"prepend"===i.insertPosition&&s.remove())),"function"==typeof i.insertCallback?i.insertCallback(i.insertTo,i.insertPosition,i.insertFrom.innerHTML):i.insertTo.insertAdjacentHTML("prepend"===i.insertPosition?"afterbegin":"beforeend",i.insertFrom.innerHTML),Dt(i.insertTo),Mt(document,"pvs.pagination.rendered",{data:i,relatedTarget:t})}))})).catch((e=>{404===e&&(t.removeAttribute("href"),t.classList.remove("loading"),t.classList.add("complete")),console.error(new Error("Failed to fetch page"))}))}const{on:Rt,trigger:It}=window.ivent;let Ht=!1;const Bt=new ResizeObserver((()=>{Ht?.style&&(Ht.style.overflow="clip",requestAnimationFrame((()=>{Ht?.style&&(Ht.style.overflow="")})))}));async function $t(t,e,n,o){if(!(t&&Boolean(document.startViewTransition)))return o(),void(!1!==n&&window.scroll({top:n,behavior:"smooth"}));const r=function(t,e){let n=document.querySelector(".pvs-navigation-view-transition-styles");if(!n){const o="linear-gradient(180deg, transparent 0, transparent 2px, #000 2.1px)",r=`linear-gradient(270deg, transparent calc(-100% + calc(200% * var(--pvs-navigation-view-transition-offset))), #000 calc(200% * var(--pvs-navigation-view-transition-offset))), ${o}`,i=`linear-gradient(270deg, #000 calc(-100% + calc(200% * var(--pvs-navigation-view-transition-offset))), transparent calc(200% * var(--pvs-navigation-view-transition-offset))), ${o}`;n=document.createElement("style"),n.classList.add("pvs-navigation-view-transition-styles"),n.textContent=`\n@media (prefers-reduced-motion) {\n\t::view-transition-group(*),\n\t::view-transition-old(*),\n\t::view-transition-new(*) {\n\t\tanimation: none !important;\n\t}\n}\n\n/* Disable root animation */\n::view-transition-image-pair(root) {\n\tisolation: auto;\n}\n::view-transition-old(root),\n::view-transition-new(root) {\n\tanimation: none;\n\tmix-blend-mode: normal;\n\tbackface-visibility: hidden;\n\tdisplay: block;\n}\n\n@property --pvs-navigation-view-transition-offset {\n\tsyntax: '<number>';\n\tinitial-value: 0;\n\tinherits: false;\n}\n\n@keyframes pvs-navigation-view-transition {\n\t0% {\n\t\t--pvs-navigation-view-transition-offset: 0;\n\t}\n\t100% {\n\t\t--pvs-navigation-view-transition-offset: 1;\n\t}\n}\n\n${e} {\n\tview-transition-name: content;\n}\n\n::view-transition-old(content),\n::view-transition-new(content) {\n\tanimation-name: pvs-navigation-view-transition;\n\tanimation-duration: ${t}s;\n\tanimation-delay: 0s;\n\tanimation-timing-function: cubic-bezier(0.35, 0, 0.4, 1);\n\tanimation-fill-mode: both;\n\n\tmask-composite: source-in;\n\t-webkit-mask-composite: source-in;\n}\n\n::view-transition-old(content) {\n\tmask-image: ${r};\n\t-webkit-mask-image: ${r};\n}\n\n::view-transition-new(content) {\n\tmask-image: ${i};\n\t-webkit-mask-image: ${i};\n}`,document.head.appendChild(n)}return n}(t,e);Ht=document.querySelector(e);const i=document.startViewTransition((()=>{o(),!1!==n&&window.scroll({top:n,behavior:"smooth"}),Ht&&Bt.observe(Ht)}));await i.finished,Ht&&(Bt.unobserve(Ht),Ht=!1),r.remove()}let jt="",Gt=0,zt=null;function Ut(){return zt||(zt=document.createElement("div"),zt.classList.add("page-loader"),document.body.appendChild(zt)),zt}function Kt(){jt="start",Gt=0}function _t(){jt="end"}Lt((function(){!jt||"end"===jt&&Gt>=100||("end"!==jt&&Gt>=99&&(Gt=99),Gt+="end"===jt?6:Gt>80?.03:Gt>70?.05:Gt>60?.08:Gt>40?.1:Gt>30?.3:Gt>20?.5:1,Ut().style.setProperty("--loader-progress",`${Math.min(100,Gt).toFixed(2)}%`),"start"===jt&&(jt="in-progress",Ut().classList.add("loading")),Gt>99&&(Ut().classList.remove("loading"),Gt=100))}),60);var Wt=Object.freeze({__proto__:null,finish:_t,start:Kt});class Yt{constructor(){this.selectors={scripts:'script:not([type="application/ld+json"])',jsonLD:'script[type="application/ld+json"]',styles:'link[rel="stylesheet"]',inlineStyles:"style",meta:"meta"}}compareElements(t,e){const n=t?.src,o=e?.src;if(n&&o)return n===o;const r=t?.href,i=e?.href;if(r&&i)return r===i;const a=t?.innerHTML?.trim(),s=e?.innerHTML?.trim();return a&&s&&a===s}async getOriginalSource(t){return i(n("ajax",t)||document.documentElement.outerHTML)}isOriginalResource(t,e,n){const o=e.querySelectorAll(n);return Array.from(o).some((e=>this.compareElements(e,t)))}getElements(t,e,n="head"){return Array.from(t[n].querySelectorAll(e))}async addElement(t,e,n="head"){const o=document.createElement(t.tagName);return Array.from(t.attributes).forEach((t=>{o.setAttribute(t.name,t.value)})),"script"===e&&t.src?(t.async&&(o.async=!0),t.defer&&(o.defer=!0),new Promise(((e,r)=>{o.onload=e,o.onerror=r,o.src=t.src,document[n].appendChild(o)}))):(t.innerHTML&&(o.innerHTML=t.innerHTML),document[n].appendChild(o),Promise.resolve())}async handleMetaTags(t,e,n){const o={NAME:"name",PROPERTY:"property",HTTP_EQUIV:"http-equiv"},r=t=>{for(const e of Object.values(o)){const n=t.getAttribute(e);if(n)return`${e}:${n}`}return null},i=t=>{const e=new Map;return t.forEach((t=>{const n=r(t);n&&e.set(n,t)})),e},a=this.getElements(t,this.selectors.meta),s=this.getElements(e,this.selectors.meta),c=i(a),l=i(s);a.forEach((t=>{const e=r(t);e&&!l.has(e)&&this.isOriginalResource(t,n,this.selectors.meta)&&t.remove()})),l.forEach(((e,n)=>{const o=c.get(n);if(o){const t=e.getAttribute("content");t!==o.getAttribute("content")&&o.setAttribute("content",t)}else{const n=document.createElement("meta");Array.from(e.attributes).forEach((t=>{n.setAttribute(t.name,t.value)})),t.head.appendChild(n)}}))}async handleJsonLD(t,e){const n=this.getElements(t,this.selectors.jsonLD),o=this.getElements(e,this.selectors.jsonLD);n.forEach((t=>t.remove()));for(const t of o)await this.addElement(t,"script")}async handleStyles(t,e,n,o="head"){const r=this.getElements(t,this.selectors.styles,o),i=this.getElements(e,this.selectors.styles,o);r.forEach((t=>{const e=i.some((e=>this.compareElements(t,e))),o=this.isOriginalResource(t,n,this.selectors.styles);!e&&o&&t.remove()}));for(const t of i){r.some((e=>this.compareElements(t,e)))||await this.addElement(t,"style",o)}const a=this.getElements(t,this.selectors.inlineStyles,o),s=this.getElements(e,this.selectors.inlineStyles,o);a.forEach((t=>{const e=s.some((e=>this.compareElements(t,e))),o=this.isOriginalResource(t,n,this.selectors.inlineStyles);!e&&o&&t.remove()}));for(const t of s){a.some((e=>this.compareElements(t,e)))||await this.addElement(t,"inlineStyle",o)}}async handleScripts(t,e,n="head"){const o=this.getElements(t,this.selectors.scripts,n),r=this.getElements(e,this.selectors.scripts,n);for(const t of r){o.some((e=>this.compareElements(t,e)))||await this.addElement(t,"script",n)}}async updateResources(t,e,n){try{const o=await this.getOriginalSource(n),r=["head","body"],i=[this.handleMetaTags(t,e,o),this.handleJsonLD(t,e),...r.flatMap((n=>[this.handleStyles(t,e,o,n),this.handleScripts(t,e,n)]))];return await Promise.all(i),!0}catch(t){return console.error("Error updating resources:",t),!1}}}const{on:Vt,trigger:Xt}=window.ivent,Jt={linksSelector:'a:not(.no-ajax, [target="_blank"], [href^="#"], [href^="mailto"], [href^="javascript:"], [download], [href*="#/portal"])',contentSelector:"main.content",transitionDuration:.6};let Qt=!1,Zt=!1;function te(){return location.origin+location.pathname+location.search}const{on:ee}=window.ivent,ne={selector:".dropdown",toggleSelector:".dropdown-toggle",preventCloseSelector:".toggle-color-scheme-button"};function oe(t,e){return parseFloat(t.getAttribute(e).slice(1))}function re(){document.querySelectorAll(".pricing-discount").forEach((t=>{t.setAttribute("data-pricing-discount",function(t){const e=oe(t,"data-pricing-month"),n=oe(t,"data-pricing-year")/12,o=Math.round((e-n)/e*100);return o<1?0:o}(t))}))}function ie(t){const e=new URL(window.location.href);e.searchParams.set("pricing",t),window.history.replaceState({},"",e)}const{on:ae}=window.ivent,se='\n\t.tag-hash-video .post-content > .kg-video-card:first-child,\n\t.tag-hash-video .post-content > .kg-embed-card:first-child:has(\n\t\t> iframe[src*="youtube.com"],\n\t\t> iframe[src*="youtube-nocookie.com"],\n\t\t> iframe[src*="player.vimeo.com"]\n\t)\n',ce={featured:"post-featured",featuredVideo:"post-featured-video",ready:"post-featured-video-ready"};function le(){document.querySelectorAll(se).forEach((t=>{const e=t.closest(".post"),n=e.querySelector(`.${ce.featured}`);n.querySelector(`.${ce.featuredVideo}`)||(n.append(t),t.classList.add(ce.featuredVideo),e.classList.add(ce.ready))}))}const{on:de,trigger:ue}=window.ivent,pe={tocSelector:".toc",tocScrollSelector:".toc-scroll",toggleSelector:".toc-button",unlockLinkSelector:".toc-unlock-link",lockedPostTeaserSelector:".post-content-teaser",headingsSelector:".post-content > :where(h1, h2, h3)",tocHandledClassName:"toc-handled",activeLinkClassName:"active"};let fe={...pe};function me(t){return t.getBoundingClientRect().height}function ge(t){const e=document.querySelector(t.tocSelector);if(!e)return;if(e.classList.contains(t.tocHandledClassName))return;e.classList.add(t.tocHandledClassName);const n=Array.from(document.querySelectorAll(t.headingsSelector));if(!n.length)return;if(e.classList.contains("toc-hidden")){const t=function(t){const e=document.createElement("ul"),n=[{level:0,element:e}];return t.forEach((e=>{const o=parseInt(e.tagName.charAt(1)),r=document.createElement("li"),i=document.createElement("a");for(i.textContent=e.textContent,i.href=`#${e.id}`,r.appendChild(i);n.length>1&&n[n.length-1].level>=o;)n.pop();const a=n[n.length-1].element;if(t.some((t=>parseInt(t.tagName.charAt(1))>o))){const t=document.createElement("ul");r.appendChild(t),a.appendChild(r),n.push({level:o,element:t})}else a.appendChild(r),n.push({level:o,element:a})})),e}(n),o=e.querySelector(fe.unlockLinkSelector);if(o)if(document.querySelector(fe.lockedPostTeaserSelector)){const e=document.createElement("li");o.style.display="",e.appendChild(o),t.appendChild(e)}else o.remove();e.appendChild(t),e.classList.remove("toc-hidden")}const o=n.map((t=>({heading:t,link:e.querySelector(`[href="#${t.id}"]`)}))),r=t.tocScrollSelector?e.closest(t.tocScrollSelector):null,i=parseFloat(window.getComputedStyle(o[0].heading).scrollMarginTop),a=t=>Math.round(t.getBoundingClientRect().top-i);let s=!1;const c=()=>{o.forEach((({heading:e,link:n},r)=>{const i=o[r+1]?.heading;if(i&&a(e)<=0&&a(i)>0||!i&&a(e)<=0){if(n.classList.contains(t.activeLinkClassName))return;n.classList.add(t.activeLinkClassName),ue(document,"pvs.toc.activated-link",{relatedTarget:n}),s=n}else n.classList.remove(t.activeLinkClassName),ue(document,"pvs.toc.deactivated-link",{relatedTarget:n}),s===n&&(s=!1)}))},l=()=>{if(!r||!s)return;const t=parseFloat(s?.offsetTop??0),{height:e}=r.getBoundingClientRect(),{height:n}=s?.getBoundingClientRect()??{height:0};s=!1,r.scrollTo({top:t+.5*n-.5*e,behavior:"smooth"})};var d;H((()=>{c()})),de(window,"load",(()=>{c()})),d=()=>{l()},P.add(d),de(window,"load",(()=>{l()}))}let he=!1;var ve={version:"1.5.0",ajax:r,parseHTML:i,addSocialLink:function(t,e,n){c.some((e=>e.url===t))||(c.push({url:t,title:e,icon:n}),l())},getSocialLinks:function(){return c},renderSocialLinks:l,addNavIcon:E,addExternalLinkAttributes:function(t={}){const e={...T,...t};A.some((t=>t.selector===e.selector))||(A.push(e),k())},initCodeHighlight:function(t={}){const e={...L,...t},n=document.createElement("script");n.type="module",n.innerHTML=x.replace("OPTIONS",JSON.stringify(e)),document.head.appendChild(n)},initTOC:function(t){t&&(fe={...pe,...t}),he=!0},disableNavigation:function(t=!0){Qt=t},pageLoader:Wt,initDarkMode:function(){d(document,"click",".toggle-color-scheme-button",(t=>{t.preventDefault();const e=t.delegateTarget.getAttribute("value"),n=p(),o=m();if(n!==e){if(document.documentElement.classList.add("stop-transition"),/(?=.*dark)(?=.*light)(?=.*system)/g.test(e)){const t="dark"===f()?["dark","system","light"]:["light","system","dark"];g(t[t.indexOf(n)+1]||t[0])}else/(?=.*dark)(?=.*light)/g.test(e)?g("dark"===o?"light":"dark"):g(e);u(document,"pvs.dark-mode.toggle"),document.documentElement.offsetHeight,document.documentElement.classList.remove("stop-transition")}})),v(),d(window,"load",(()=>{v()})),d(document,"pvs.dark-mode.toggle pvs.navigation.content-rendered",(()=>{v()}))},getSelectedColorScheme:p,getSystemColorScheme:f,getActualColorScheme:m,updateColorScheme:g,initClipboard:function(){N(document,"click","[data-clipboard-text]",(async t=>{t.preventDefault();try{await navigator.clipboard.writeText(t.delegateTarget.getAttribute("data-clipboard-text"))}catch(t){console.error(t)}}))},initLightbox:function(t={}){const{on:e}=window.ivent,n={...G,...t},{body:o}=document;let r,i;const a=new Map;let s,c,l=!1;function d(){const t=window.innerWidth-o.offsetWidth||parseFloat(window.getComputedStyle(o).paddingRight);r=window.innerWidth-t,i=window.innerHeight}function u(t){if(!t.querySelector(".lightbox-trigger")){l=!0;const e=t.querySelector("img"),n=t.closest(".kg-card").querySelector("figcaption"),o=e.getAttribute("alt")||n?.textContent||"Open lightbox",r=document.createElement("button");r.classList.add("lightbox-trigger"),r.setAttribute("type","button"),r.setAttribute("aria-expanded","false"),r.setAttribute("aria-label",o),t.append(r),t.classList.add("lightbox")}}function p(t){const e=a.get(t),{image:n,naturalWidth:o,naturalHeight:s,posX:c=0,posY:l=0}=e,{width:d,height:u,top:p,left:f}=t.getBoundingClientRect(),m=(r-d)/2-f+c,g=(i-u)/2-p+l;e.posX=m,e.posY=g,t.style.setProperty("transform",`translate(${m}px, ${g}px)`),n.style.setProperty("transform",`scale(${function(t,e,n,o){const a=r/t,s=i/e,c=Math.min(a,s);return c*e>o||c*t>n?Math.min(o/e,n/t):Math.min(c,s)}(d,u,o,s)})`)}function f(t){const e=a.get(t),{image:o,zIndex:r,trigger:i}=e;i.focus(),o.style.transform="",t.style.transform="",t.style.zIndex=r-1,s.style.zIndex=r-1,t.classList.remove("lightbox-show"),t.classList.add("lightbox-hiding"),t.querySelector(".lightbox-trigger").setAttribute("aria-expanded","false"),e.hasHide=!0,e.posX=0,e.posY=0,e.hideTimeout=setTimeout((()=>{t.style.zIndex="",t.classList.remove("lightbox-hiding"),e.hasHide=!0,e.zIndex=n.zIndex}),500),s.classList.remove("lightbox-overlay-show")}function m(t){const e=a.get(t);if(s||(s=document.createElement("div"),s.classList.add("lightbox-overlay"),c=document.createElement("button"),c.classList.add("lightbox-close"),c.setAttribute("type","button"),c.setAttribute("aria-label","Close"),document.querySelector(".post-content").before(s,c)),e&&!e.hasHide)f(t);else{if(!e){const e=t.querySelector("img");u(t),a.set(t,{image:e,naturalWidth:parseFloat(e.getAttribute("width")),naturalHeight:parseFloat(e.getAttribute("height")),trigger:t.querySelector(".lightbox-trigger")})}!function(t){const e=a.get(t),{image:o}=e;o.complete||o.addEventListener("load",(()=>{p(t)})),clearTimeout(e.hideTimeout),c.focus(),t.classList.add("lightbox-show"),t.classList.remove("lightbox-hiding"),t.style.setProperty("z-index",n.zIndex),t.querySelector(".lightbox-trigger").setAttribute("aria-expanded","true"),p(t),e.zIndex=n.zIndex,e.hasHide=!1,s.style.setProperty("z-index",n.zIndex),s.classList.add("lightbox-overlay-show")}(t)}}var g;d(),document.querySelectorAll(n.imageSelector).forEach(u),e(document,"click",n.imageSelector,(t=>{t.target.classList.contains("lightbox-trigger")||m(t.delegateTarget)})),e(document,"click",".lightbox-trigger",(t=>{t.preventDefault();m(t.delegateTarget.closest(n.imageSelector))})),e(document,"click",".lightbox-overlay, .lightbox-close",(t=>{t.preventDefault(),a.forEach(((t,e)=>{t.hasHide||f(e)}))})),e(document,"keydown",(t=>{"Escape"===t.key?a.forEach(((t,e)=>{t.hasHide||f(e)})):"Tab"===t.key&&a.forEach((e=>{e.hasHide||(t.preventDefault(),c.focus())}))})),H((()=>{a.forEach(((t,e)=>{t.hasHide||f(e)}))})),"function"==typeof(g=()=>{l&&(d(),a.forEach(((t,e)=>{t.hasHide||p(e)})))})&&$.add(g),e(window,"load",d),e(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",(()=>{document.querySelectorAll(n.imageSelector).forEach(u),s=document.querySelector(".lightbox-overlay")}))},initPopup:function(t={}){const{on:e,trigger:n}=window.ivent,o={...kt,...t},r=new Map;function i(t){if(!t.classList.contains(o.showClass))return;const e=t.getAttribute("data-popup-id"),i=r.get(e),a=i.toggle;n(document,"pvs.popup.hide",{relatedTarget:t,data:{id:e,toggle:a}}),t.classList.remove(o.showClass),t.offsetHeight,t.classList.add(o.hideClass),t.setAttribute("aria-hidden","true"),a.setAttribute("aria-expanded","false"),n(document,"pvs.popup.hidden",{relatedTarget:t,data:{id:e,toggle:a}}),clearTimeout(i.focusTrapTimeout),i.focusTrap?.deactivate(),document.body.style.setProperty("overflow","")}e(document,"click","[data-popup-toggle]",(t=>{t.preventDefault();const e=t.delegateTarget,i=e.getAttribute("data-popup-toggle").slice(1),a=document.querySelector(`[data-popup-id="${i}"]`);r.has(i)||r.set(i,{toggle:e,popup:a,focusTrap:At(a),focusTrapTimeout:null});const s=r.get(i);n(document,"pvs.popup.show",{relatedTarget:a,data:{id:i,toggle:e}}),a.classList.remove(o.hideClass),a.offsetHeight,a.classList.add(o.showClass),a.setAttribute("aria-hidden","false"),e.setAttribute("aria-expanded","true"),n(document,"pvs.popup.shown",{relatedTarget:a,data:{id:i,toggle:e}});const c=setTimeout((()=>{s.focusTrap?.activate()}),o.focusDuration);s.focusTrapTimeout=c,o.bodyOverflow&&document.body.style.setProperty("overflow","hidden")})),e(document,"click",".popup-close",(t=>{t.preventDefault(),i(t.delegateTarget.closest(".popup"))})),e(document,"keyup",(t=>{"Escape"===t.key&&r.forEach((({popup:t})=>{i(t)}))})),e(document,"pvs.navigation.content-render",(()=>{r.forEach((({popup:t})=>{i(t)})),r.clear()}))},initScrollProgress:function(t){const e={...Nt,...t},{selector:n}=e;let o=document.querySelectorAll(n);if(!o)return;let r=null;Lt((function(){const t=function(){const t=window.scrollY,e=document.documentElement.scrollHeight-document.documentElement.clientHeight;return Math.max(0,Math.min(100,t/e*100))}(),e=function(t,e,n){return(1-n)*t+n*e}(null===r?t:r,t,.25);e!==r&&(r=e,o.forEach((t=>{t.style.setProperty("--scroll-progress",`${function(t,e=1){const n=10**e;return Math.round(t*n)/n}(r,2)}%`)})))}),60),xt(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",(()=>{o=document.querySelectorAll(n)}))},initScrollbarWidth:function(){const{on:t}=window.ivent;Ct(),t(window,"resize",q(100,Ct)),t(window,"orientationchange",Ct),t(document,"pvs.navigation.content-rendered pvs.pagination.rendered",Ct)},initNavigation:function(t={}){const a={...Jt,...t},{linksSelector:s,contentSelector:c,transitionDuration:l}=a;let d=!1,u=te();function p(t,a=0){Xt(document,"pvs.navigation.loading"),function(t){e("page-scroll",t,document.documentElement.scrollTop||document.body.scrollTop)}(u);const s=!n("ajax",o(t));s&&Kt(),r(t,!0,{redirect:"manual"}).then((e=>{!function(t,e,n=0){const o=i(e),r=o.title,a=o.querySelector(c),s=o.body.getAttribute("class");if(!a)return void(window.location=t);const p=new Yt,f=u;u=t;const m=document.querySelector(c);"undefined"!=typeof history&&d&&history.pushState({page:t},r,t);const g={href:t,page:o};Xt(document,"pvs.navigation.content-render",{data:g}),document.title=r,$t(l,c,n,(async()=>{document.body.setAttribute("class",s),m.innerHTML=a.innerHTML,m.setAttribute("class",a.getAttribute("class")),document.body.style.overflow="",document.querySelectorAll(".nav-link").forEach((e=>{e.classList.toggle("nav-link-current",e.href===t)})),await p.updateResources(document,o,f),Dt(m),Xt(document,"pvs.navigation.content-rendered",{data:g})}))}(t,e,a),s&&_t(),Xt(document,"pvs.navigation.loaded")})).catch((()=>{window.location=t}))}Vt(document,"ready",(()=>{r(u,!0).then((()=>{Zt=!0}))})),Vt(document,"click",s,(t=>{if(Qt||!Zt)return;const e=t.delegateTarget,{href:n}=e;t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||window.location.protocol===e.protocol&&window.location.hostname===e.hostname&&"file:"!==window.location.protocol&&(t.defaultPrevented||e.closest(".swiper-touching")||(t.preventDefault(),u!==n&&(d=!0,p(n))))})),Vt(window,"popstate",(()=>{if(Qt||!Zt)return;const t=te();u!==t&&(d=!1,p(t,n("page-scroll",t)||0))}))},initPagination:function(){Pt(document,"click","[data-pagination][href]",(t=>{t.preventDefault();const e=t.delegateTarget;e.classList.contains("loading")||(Ft(e),"load-more-infinite"===e.getAttribute("data-pagination")&&e.setAttribute("data-pagination","infinite"))}));const t=new IntersectionObserver(((t,e)=>{try{t.forEach((t=>{t.isIntersecting&&t.target&&!t.target.classList.contains("loading")&&(t.target.getAttribute("href")?Ft(t.target):e.disconnect())}))}catch(t){console.log(t)}}),{scrollMargin:"10px"}),e=C(200,(()=>{document.querySelectorAll('[data-pagination="infinite"][href]:not(.pvs-pagination-infinite-handled)').forEach((e=>{e.classList.add("pvs-pagination-infinite-handled"),t.observe(e)}))}));new MutationObserver(e).observe(document.documentElement,{childList:!0,subtree:!0})},initFilter:function(){const t=new Map;function e(t){const e=t.parentNode;return{paginationNext:e.querySelector("[data-pagination-append]"),paginationPrev:e.querySelector("[data-pagination-prepend]")}}function n(t,n){const{paginationNext:o,paginationPrev:r}=e(n);t.newList=n.cloneNode(!0),t.dataNext=Boolean(o)&&{href:o.getAttribute("href"),from:o.getAttribute("data-pagination-from")||o.getAttribute("data-pagination-append")},t.dataPrev=Boolean(r)&&{href:r.getAttribute("href"),from:r.getAttribute("data-pagination-from")||r.getAttribute("data-pagination-append")}}function o(t,e){t&&e?(e.href?(t.classList.remove("complete"),t.setAttribute("href",e.href),e.from&&t.setAttribute("data-pagination-from",e.from)):t.removeAttribute("href"),t.style.display=""):t&&!e&&(t.style.display="none")}function a(t,n){const{newList:r,dataNext:i,dataPrev:a}=n;t.forEach((t=>{t.innerHTML=r.innerHTML,t.classList.remove("loading"),Dt(t);const{paginationNext:n,paginationPrev:s}=e(t);o(n,i),o(s,a)})),It(document,"pvs.filter.rendered")}Rt(document,"focus","[data-filter]",(e=>{const o=e.delegateTarget,{value:r}=o;if(t.has(o))return;t.set(o,{});const i=t.get(o);if(!i[r]){i[r]={};const t=o.getAttribute("data-filter-append");n(i[r],document.querySelector(t))}})),Rt(document,"change","[data-filter]",(e=>{const o=e.delegateTarget,{value:s}=o,c=o.getAttribute("data-filter-append"),l=o.getAttribute("data-filter-from")||c,d=document.querySelectorAll(c);t.has(o)||t.set(o,{}),document.querySelectorAll("[data-filter]").forEach((t=>{t.getAttribute("data-filter-append")===c&&(t.value=s)}));const u=t.get(o);u[s]?a(d,u[s]):(d.forEach((t=>t.classList.add("loading"))),async function(t,e){try{return i(await r(t)).querySelector(e)}catch(t){throw new Error(t)}}(s,l).then((t=>{u[s]={},n(u[s],t),a(d,u[s])})))})),Rt(document,"pvs.pagination.rendered",(()=>{t.forEach(((t,e)=>{const o=e.getAttribute("data-filter-append");n(t[e.value],document.querySelector(o))}))}))},initDropdown:function(t){const e={...ne,...t};let n=null,o=null;function r(t){n&&i(),o=t,o.setAttribute("aria-expanded","true"),n=t.parentNode.querySelector(`:scope > ${e.selector}`),n.classList.add("show")}function i(t=!1){n&&(n.classList.remove("show"),o.setAttribute("aria-expanded","false"),o=null,n=null)}function a(){document.querySelectorAll(e.selector).forEach((t=>{t.classList.contains("dropdown-ready")||(t.classList.add("dropdown-ready"),"1"!==window.getComputedStyle(t).opacity||t.classList.contains("show")||r(t.parentNode.querySelector(e.toggleSelector)))}))}a(),ee(document,"pvs.navigation.content-rendered pvs.filter.rendered pvs.pagination.rendered",a),ee(document,"click",e.toggleSelector,(function(t){t.preventDefault();const e=t.delegateTarget;n&&e===o?i():r(e)})),ee(document,"click",(function(t){if(!n)return;const r=t.target,a=n.contains(r),s=o.contains(r),c=r.closest(e.preventCloseSelector),l=r.matches("a, button")||r.closest("a, button");s||c||(a?l&&i():i())})),ee(document,"keyup",(function(t){"Escape"===t.key&&n&&(i(),o.focus())})),ee(document,"focusout",`${e.selector}, ${e.toggleSelector}`,(function(){n&&requestAnimationFrame((()=>{const t=document.activeElement;n.contains(t)||t===o||i()}))}))},initPricingDiscount:function(){const{on:t}=window.ivent;re(),t(document,"ready pvs.navigation.content-rendered",re)},initPricingUrlSync:function(){const t=new URLSearchParams(window.location.search).get("pricing");t&&document.querySelectorAll(".pricing-toggle-input").forEach((e=>{e.checked=t===e.value,e.checked&&ie(e.value)})),window.ivent.on(document,"focus",".pricing-toggle-input",(t=>{ie(t.delegateTarget.value)}))},registerFeaturedVideo:function(){le(),ae(document,"ready pvs.pagination.rendered pvs.navigation.content-rendered",le)},registerTOC:function(t){if(t&&(fe={...pe,...t}),de(document,"ready pvs.navigation.content-rendered",(()=>{(he||document.body.classList.contains("tag-hash-toc"))&&ge(fe)})),fe.toggleSelector){let t=!1;const e=(e,n,o)=>{if(t)return;t=!0;const r=e.querySelector("ul"),i=me(e);o&&n.setAttribute("aria-expanded",o);const a=me(r);e.style.height=`${i}px`,e.offsetHeight,requestAnimationFrame((()=>{e.style.height=o?`${i+a}px`:i-a+"px",setTimeout((()=>{o||n.setAttribute("aria-expanded",o),e.style.height="",t=!1}),300)}))};de(document,"click",fe.toggleSelector,(t=>{t.preventDefault();const n=t.delegateTarget,o=document.querySelector(fe.tocSelector),r="false"===n.getAttribute("aria-expanded");e(o,n,r)}))}},addMenuIcon:(...t)=>(console.log("addMenuIcon is deprecated. Use addNavIcon instead."),E(...t))};return ve}));
